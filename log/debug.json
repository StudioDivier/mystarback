{"text": "2020-10-30T17:15:02.238056+0300 ERROR An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-22' (13048):\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1774, in get_prep_value\n    return int(value)\n               -> 'undefined'\n\nValueError: invalid literal for int() with base 10: 'undefined'\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n    |    -> <function Thread._bootstrap_inner at 0x000001E3484431F8>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\n    self.run()\n    |    -> <function Thread.run at 0x000001E348441F78>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n    |    |        |    |        |    -> {}\n    |    |        |    |        -> <Thread(Thread-22, started daemon 13048)>\n    |    |        |    -> (<socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), r...\n    |    |        -> <Thread(Thread-22, started daemon 13048)>\n    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 650, in process_request_thread\n    self.finish_request(request, client_address)\n    |    |              |        -> ('192.168.1.188', 55729)\n    |    |              -> <socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <function BaseServer.finish_request at 0x000001E3495CB948>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 360, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |    |                   |        -> ('192.168.1.188', 55729)\n    |    |                   -> <socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 720, in __init__\n    self.handle()\n    |    -> <function WSGIRequestHandler.handle at 0x000001E34A9CF318>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 172, in handle\n    self.handle_one_request()\n    |    -> <function WSGIRequestHandler.handle_one_request at 0x000001E34A9CF3A8>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 197, in handle_one_request\n    handler.run(self.server.get_app())\n    |       |   |    |      -> <function WSGIServer.get_app at 0x000001E34A9BEF78>\n    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n    |       -> <function BaseHandler.run at 0x000001E34A9C9A68>\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\wsgiref\\handlers.py\", line 137, in run\n    self.result = application(self.environ, self.start_response)\n    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x000001E34A9C9DC8>\n    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n    |    |        |           |    -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n    |    |        -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n    |    -> None\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\contrib\\staticfiles\\handlers.py\", line 76, in __call__\n    return self.application(environ, start_response)\n           |    |           |        -> <bound method BaseHandler.start_response of <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>>\n           |    |           -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n           |    -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n           -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 133, in __call__\n    response = self.get_response(request)\n               |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function BaseHandler.get_response at 0x000001E34A9809D8>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in get_response\n    response = self._middleware_chain(request)\n               |    |                 -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148E58>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148B88>\n               |           -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148AF8>\n               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148A68>\n               |           -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148558>\n               |           -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148948>\n               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34AFD5A68>\n               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B1421F8>\n               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B13DEE8>\n               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function BaseHandler._get_response at 0x000001E34AFD5EE8>\n               |           -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 179, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               |                |         |                -> {}\n               |                |         -> ()\n               |                -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <function YandexPayment at 0x000001E34AF5D048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\decorators\\csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n           |          |       -> {}\n           |          -> (<WSGIRequest: GET '/payments/?order_id=undefined'>,)\n           -> <function YandexPayment at 0x000001E34AF5D828>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\generic\\base.py\", line 70, in view\n    return self.dispatch(request, *args, **kwargs)\n           |    |        |         |       -> {}\n           |    |        |         -> ()\n           |    |        -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n           |    -> <function APIView.dispatch at 0x000001E34AD689D8>\n           -> <users.kassa.YandexPayment object at 0x000001E34B6FE3C8>\n\n> File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py\", line 502, in dispatch\n    response = handler(request, *args, **kwargs)\n               |       |         |       -> {}\n               |       |         -> ()\n               |       -> <rest_framework.request.Request object at 0x000001E34B6FE7C8>\n               -> <bound method YandexPayment.get of <users.kassa.YandexPayment object at 0x000001E34B6FE3C8>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\users\\kassa.py\", line 40, in get\n    order = Orders.objects.get(id=order_id)\n            |      |              -> 'undefined'\n            |      -> <django.db.models.manager.ManagerDescriptor object at 0x000001E34A90A648>\n            -> <class 'users.models.Orders'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n                   |    |               |      |       -> {'id': 'undefined'}\n                   |    |               |      -> ()\n                   |    |               -> 'get'\n                   |    -> <function BaseManager.get_queryset at 0x000001E3494CD318>\n                   -> <django.db.models.manager.Manager object at 0x000001E34AB5E908>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 418, in get\n    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)\n            |    |           |    |                     |    |       |       -> {'id': 'undefined'}\n            |    |           |    |                     |    |       -> ()\n            |    |           |    |                     |    -> <function QuerySet.filter at 0x000001E3494D23A8>\n            |    |           |    |                     -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    |           |    -> <property object at 0x000001E3494CE9A8>\n            |    |           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    -> <function QuerySet._chain at 0x000001E3494D4168>\n            -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 942, in filter\n    return self._filter_or_exclude(False, *args, **kwargs)\n           |    |                          |       -> {'id': 'undefined'}\n           |    |                          -> ()\n           |    -> <function QuerySet._filter_or_exclude at 0x000001E3494D24C8>\n           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 962, in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, *args, **kwargs)\n    |     |                          |        |       -> {'id': 'undefined'}\n    |     |                          |        -> ()\n    |     |                          -> False\n    |     -> <function QuerySet._filter_or_exclude_inplace at 0x000001E3494D2558>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 969, in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n    |    |      |     |  |       -> {'id': 'undefined'}\n    |    |      |     |  -> ()\n    |    |      |     -> <class 'django.db.models.query_utils.Q'>\n    |    |      -> <function Query.add_q at 0x000001E3493FB828>\n    |    -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1358, in add_q\n    clause, _ = self._add_q(q_object, self.used_aliases)\n                |    |      |         |    -> {'users_orders'}\n                |    |      |         -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n                |    |      -> <Q: (AND: ('id', 'undefined'))>\n                |    -> <function Query._add_q at 0x000001E3493FB948>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1380, in _add_q\n    split_subq=split_subq, check_filterable=check_filterable,\n               |                            -> True\n               -> True\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1319, in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                |    |            |        |    -> 'undefined'\n                |    |            |        -> Col(users_orders, users.Orders.id)\n                |    |            -> []\n                |    -> <function Query.build_lookup at 0x000001E3493FB5E8>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1165, in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             |            |    -> 'undefined'\n             |            -> Col(users_orders, users.Orders.id)\n             -> <class 'django.db.models.lookups.Exact'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 24, in __init__\n    self.rhs = self.get_prep_lookup()\n    |    |     |    -> <function Lookup.get_prep_lookup at 0x000001E34938B948>\n    |    |     -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n    |    -> 'undefined'\n    -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 74, in get_prep_lookup\n    return self.lhs.output_field.get_prep_value(self.rhs)\n           |    |   |            |              |    -> 'undefined'\n           |    |   |            |              -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n           |    |   |            -> <function IntegerField.get_prep_value at 0x000001E34935CD38>\n           |    |   -> <django.db.models.fields.AutoField: id>\n           |    -> Col(users_orders, users.Orders.id)\n           -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1778, in get_prep_value\n    ) from e\n\nValueError: Field 'id' expected a number but got 'undefined'.\n", "record": {"elapsed": {"repr": "1:43:53.519432", "seconds": 6233.519432}, "exception": {"type": "ValueError", "value": "Field 'id' expected a number but got 'undefined'.", "traceback": true}, "extra": {}, "file": {"name": "views.py", "path": "C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py"}, "function": "dispatch", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 502, "message": "An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-22' (13048):", "module": "views", "name": "rest_framework.views", "process": {"id": 14276, "name": "MainProcess"}, "thread": {"id": 13048, "name": "Thread-22"}, "time": {"repr": "2020-10-30 17:15:02.238056+03:00", "timestamp": 1604067302.238056}}}
{"text": "2020-10-30T17:15:02.238056+0300 ERROR An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-22' (13048):\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1774, in get_prep_value\n    return int(value)\n               -> 'undefined'\n\nValueError: invalid literal for int() with base 10: 'undefined'\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n    |    -> <function Thread._bootstrap_inner at 0x000001E3484431F8>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\n    self.run()\n    |    -> <function Thread.run at 0x000001E348441F78>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n    |    |        |    |        |    -> {}\n    |    |        |    |        -> <Thread(Thread-22, started daemon 13048)>\n    |    |        |    -> (<socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), r...\n    |    |        -> <Thread(Thread-22, started daemon 13048)>\n    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>>\n    -> <Thread(Thread-22, started daemon 13048)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 650, in process_request_thread\n    self.finish_request(request, client_address)\n    |    |              |        -> ('192.168.1.188', 55729)\n    |    |              -> <socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <function BaseServer.finish_request at 0x000001E3495CB948>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 360, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |    |                   |        -> ('192.168.1.188', 55729)\n    |    |                   -> <socket.socket fd=1036, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 720, in __init__\n    self.handle()\n    |    -> <function WSGIRequestHandler.handle at 0x000001E34A9CF318>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 172, in handle\n    self.handle_one_request()\n    |    -> <function WSGIRequestHandler.handle_one_request at 0x000001E34A9CF3A8>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 197, in handle_one_request\n    handler.run(self.server.get_app())\n    |       |   |    |      -> <function WSGIServer.get_app at 0x000001E34A9BEF78>\n    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B6DD308>\n    |       -> <function BaseHandler.run at 0x000001E34A9C9A68>\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\wsgiref\\handlers.py\", line 137, in run\n    self.result = application(self.environ, self.start_response)\n    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x000001E34A9C9DC8>\n    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n    |    |        |           |    -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n    |    |        -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n    |    -> None\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\contrib\\staticfiles\\handlers.py\", line 76, in __call__\n    return self.application(environ, start_response)\n           |    |           |        -> <bound method BaseHandler.start_response of <django.core.servers.basehttp.ServerHandler object at 0x000001E34B6FE208>>\n           |    |           -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n           |    -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n           -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 133, in __call__\n    response = self.get_response(request)\n               |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function BaseHandler.get_response at 0x000001E34A9809D8>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in get_response\n    response = self._middleware_chain(request)\n               |    |                 -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148E58>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148B88>\n               |           -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148AF8>\n               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148A68>\n               |           -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148558>\n               |           -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148948>\n               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34AFD5A68>\n               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B1421F8>\n               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B13DEE8>\n               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function BaseHandler._get_response at 0x000001E34AFD5EE8>\n               |           -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 179, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               |                |         |                -> {}\n               |                |         -> ()\n               |                -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <function YandexPayment at 0x000001E34AF5D048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\decorators\\csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n           |          |       -> {}\n           |          -> (<WSGIRequest: GET '/payments/?order_id=undefined'>,)\n           -> <function YandexPayment at 0x000001E34AF5D828>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\generic\\base.py\", line 70, in view\n    return self.dispatch(request, *args, **kwargs)\n           |    |        |         |       -> {}\n           |    |        |         -> ()\n           |    |        -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n           |    -> <function APIView.dispatch at 0x000001E34AD689D8>\n           -> <users.kassa.YandexPayment object at 0x000001E34B6FE3C8>\n\n> File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py\", line 502, in dispatch\n    response = handler(request, *args, **kwargs)\n               |       |         |       -> {}\n               |       |         -> ()\n               |       -> <rest_framework.request.Request object at 0x000001E34B6FE7C8>\n               -> <bound method YandexPayment.get of <users.kassa.YandexPayment object at 0x000001E34B6FE3C8>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\users\\kassa.py\", line 40, in get\n    order = Orders.objects.get(id=order_id)\n            |      |              -> 'undefined'\n            |      -> <django.db.models.manager.ManagerDescriptor object at 0x000001E34A90A648>\n            -> <class 'users.models.Orders'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n                   |    |               |      |       -> {'id': 'undefined'}\n                   |    |               |      -> ()\n                   |    |               -> 'get'\n                   |    -> <function BaseManager.get_queryset at 0x000001E3494CD318>\n                   -> <django.db.models.manager.Manager object at 0x000001E34AB5E908>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 418, in get\n    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)\n            |    |           |    |                     |    |       |       -> {'id': 'undefined'}\n            |    |           |    |                     |    |       -> ()\n            |    |           |    |                     |    -> <function QuerySet.filter at 0x000001E3494D23A8>\n            |    |           |    |                     -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    |           |    -> <property object at 0x000001E3494CE9A8>\n            |    |           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    -> <function QuerySet._chain at 0x000001E3494D4168>\n            -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 942, in filter\n    return self._filter_or_exclude(False, *args, **kwargs)\n           |    |                          |       -> {'id': 'undefined'}\n           |    |                          -> ()\n           |    -> <function QuerySet._filter_or_exclude at 0x000001E3494D24C8>\n           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 962, in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, *args, **kwargs)\n    |     |                          |        |       -> {'id': 'undefined'}\n    |     |                          |        -> ()\n    |     |                          -> False\n    |     -> <function QuerySet._filter_or_exclude_inplace at 0x000001E3494D2558>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 969, in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n    |    |      |     |  |       -> {'id': 'undefined'}\n    |    |      |     |  -> ()\n    |    |      |     -> <class 'django.db.models.query_utils.Q'>\n    |    |      -> <function Query.add_q at 0x000001E3493FB828>\n    |    -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1358, in add_q\n    clause, _ = self._add_q(q_object, self.used_aliases)\n                |    |      |         |    -> {'users_orders'}\n                |    |      |         -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n                |    |      -> <Q: (AND: ('id', 'undefined'))>\n                |    -> <function Query._add_q at 0x000001E3493FB948>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1380, in _add_q\n    split_subq=split_subq, check_filterable=check_filterable,\n               |                            -> True\n               -> True\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1319, in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                |    |            |        |    -> 'undefined'\n                |    |            |        -> Col(users_orders, users.Orders.id)\n                |    |            -> []\n                |    -> <function Query.build_lookup at 0x000001E3493FB5E8>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B6C32C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1165, in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             |            |    -> 'undefined'\n             |            -> Col(users_orders, users.Orders.id)\n             -> <class 'django.db.models.lookups.Exact'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 24, in __init__\n    self.rhs = self.get_prep_lookup()\n    |    |     |    -> <function Lookup.get_prep_lookup at 0x000001E34938B948>\n    |    |     -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n    |    -> 'undefined'\n    -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 74, in get_prep_lookup\n    return self.lhs.output_field.get_prep_value(self.rhs)\n           |    |   |            |              |    -> 'undefined'\n           |    |   |            |              -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n           |    |   |            -> <function IntegerField.get_prep_value at 0x000001E34935CD38>\n           |    |   -> <django.db.models.fields.AutoField: id>\n           |    -> Col(users_orders, users.Orders.id)\n           -> <django.db.models.lookups.Exact object at 0x000001E34B806B08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1778, in get_prep_value\n    ) from e\n\nValueError: Field 'id' expected a number but got 'undefined'.\n", "record": {"elapsed": {"repr": "1:43:53.519432", "seconds": 6233.519432}, "exception": {"type": "ValueError", "value": "Field 'id' expected a number but got 'undefined'.", "traceback": true}, "extra": {}, "file": {"name": "views.py", "path": "C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py"}, "function": "dispatch", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 502, "message": "An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-22' (13048):", "module": "views", "name": "rest_framework.views", "process": {"id": 14276, "name": "MainProcess"}, "thread": {"id": 13048, "name": "Thread-22"}, "time": {"repr": "2020-10-30 17:15:02.238056+03:00", "timestamp": 1604067302.238056}}}
{"text": "2020-10-30T17:24:16.387070+0300 ERROR An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-26' (11088):\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1774, in get_prep_value\n    return int(value)\n               -> 'undefined'\n\nValueError: invalid literal for int() with base 10: 'undefined'\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n    |    -> <function Thread._bootstrap_inner at 0x000001E3484431F8>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\n    self.run()\n    |    -> <function Thread.run at 0x000001E348441F78>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n    |    |        |    |        |    -> {}\n    |    |        |    |        -> <Thread(Thread-26, started daemon 11088)>\n    |    |        |    -> (<socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), r...\n    |    |        -> <Thread(Thread-26, started daemon 11088)>\n    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 650, in process_request_thread\n    self.finish_request(request, client_address)\n    |    |              |        -> ('192.168.1.188', 56069)\n    |    |              -> <socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <function BaseServer.finish_request at 0x000001E3495CB948>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 360, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |    |                   |        -> ('192.168.1.188', 56069)\n    |    |                   -> <socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 720, in __init__\n    self.handle()\n    |    -> <function WSGIRequestHandler.handle at 0x000001E34A9CF318>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 172, in handle\n    self.handle_one_request()\n    |    -> <function WSGIRequestHandler.handle_one_request at 0x000001E34A9CF3A8>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 197, in handle_one_request\n    handler.run(self.server.get_app())\n    |       |   |    |      -> <function WSGIServer.get_app at 0x000001E34A9BEF78>\n    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n    |       -> <function BaseHandler.run at 0x000001E34A9C9A68>\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\wsgiref\\handlers.py\", line 137, in run\n    self.result = application(self.environ, self.start_response)\n    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x000001E34A9C9DC8>\n    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n    |    |        |           |    -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n    |    |        -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n    |    -> None\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\contrib\\staticfiles\\handlers.py\", line 76, in __call__\n    return self.application(environ, start_response)\n           |    |           |        -> <bound method BaseHandler.start_response of <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>>\n           |    |           -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n           |    -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n           -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 133, in __call__\n    response = self.get_response(request)\n               |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function BaseHandler.get_response at 0x000001E34A9809D8>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in get_response\n    response = self._middleware_chain(request)\n               |    |                 -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148E58>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148B88>\n               |           -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148AF8>\n               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148A68>\n               |           -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148558>\n               |           -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148948>\n               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34AFD5A68>\n               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B1421F8>\n               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B13DEE8>\n               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function BaseHandler._get_response at 0x000001E34AFD5EE8>\n               |           -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 179, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               |                |         |                -> {}\n               |                |         -> ()\n               |                -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <function YandexPayment at 0x000001E34AF5D048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\decorators\\csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n           |          |       -> {}\n           |          -> (<WSGIRequest: GET '/payments/?order_id=undefined'>,)\n           -> <function YandexPayment at 0x000001E34AF5D828>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\generic\\base.py\", line 70, in view\n    return self.dispatch(request, *args, **kwargs)\n           |    |        |         |       -> {}\n           |    |        |         -> ()\n           |    |        -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n           |    -> <function APIView.dispatch at 0x000001E34AD689D8>\n           -> <users.kassa.YandexPayment object at 0x000001E34B597488>\n\n> File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py\", line 502, in dispatch\n    response = handler(request, *args, **kwargs)\n               |       |         |       -> {}\n               |       |         -> ()\n               |       -> <rest_framework.request.Request object at 0x000001E34B752D48>\n               -> <bound method YandexPayment.get of <users.kassa.YandexPayment object at 0x000001E34B597488>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\users\\kassa.py\", line 40, in get\n    order = Orders.objects.get(id=order_id)\n            |      |              -> 'undefined'\n            |      -> <django.db.models.manager.ManagerDescriptor object at 0x000001E34A90A648>\n            -> <class 'users.models.Orders'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n                   |    |               |      |       -> {'id': 'undefined'}\n                   |    |               |      -> ()\n                   |    |               -> 'get'\n                   |    -> <function BaseManager.get_queryset at 0x000001E3494CD318>\n                   -> <django.db.models.manager.Manager object at 0x000001E34AB5E908>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 418, in get\n    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)\n            |    |           |    |                     |    |       |       -> {'id': 'undefined'}\n            |    |           |    |                     |    |       -> ()\n            |    |           |    |                     |    -> <function QuerySet.filter at 0x000001E3494D23A8>\n            |    |           |    |                     -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    |           |    -> <property object at 0x000001E3494CE9A8>\n            |    |           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    -> <function QuerySet._chain at 0x000001E3494D4168>\n            -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 942, in filter\n    return self._filter_or_exclude(False, *args, **kwargs)\n           |    |                          |       -> {'id': 'undefined'}\n           |    |                          -> ()\n           |    -> <function QuerySet._filter_or_exclude at 0x000001E3494D24C8>\n           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 962, in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, *args, **kwargs)\n    |     |                          |        |       -> {'id': 'undefined'}\n    |     |                          |        -> ()\n    |     |                          -> False\n    |     -> <function QuerySet._filter_or_exclude_inplace at 0x000001E3494D2558>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 969, in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n    |    |      |     |  |       -> {'id': 'undefined'}\n    |    |      |     |  -> ()\n    |    |      |     -> <class 'django.db.models.query_utils.Q'>\n    |    |      -> <function Query.add_q at 0x000001E3493FB828>\n    |    -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1358, in add_q\n    clause, _ = self._add_q(q_object, self.used_aliases)\n                |    |      |         |    -> {'users_orders'}\n                |    |      |         -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n                |    |      -> <Q: (AND: ('id', 'undefined'))>\n                |    -> <function Query._add_q at 0x000001E3493FB948>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1380, in _add_q\n    split_subq=split_subq, check_filterable=check_filterable,\n               |                            -> True\n               -> True\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1319, in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                |    |            |        |    -> 'undefined'\n                |    |            |        -> Col(users_orders, users.Orders.id)\n                |    |            -> []\n                |    -> <function Query.build_lookup at 0x000001E3493FB5E8>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1165, in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             |            |    -> 'undefined'\n             |            -> Col(users_orders, users.Orders.id)\n             -> <class 'django.db.models.lookups.Exact'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 24, in __init__\n    self.rhs = self.get_prep_lookup()\n    |    |     |    -> <function Lookup.get_prep_lookup at 0x000001E34938B948>\n    |    |     -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n    |    -> 'undefined'\n    -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 74, in get_prep_lookup\n    return self.lhs.output_field.get_prep_value(self.rhs)\n           |    |   |            |              |    -> 'undefined'\n           |    |   |            |              -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n           |    |   |            -> <function IntegerField.get_prep_value at 0x000001E34935CD38>\n           |    |   -> <django.db.models.fields.AutoField: id>\n           |    -> Col(users_orders, users.Orders.id)\n           -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1778, in get_prep_value\n    ) from e\n\nValueError: Field 'id' expected a number but got 'undefined'.\n", "record": {"elapsed": {"repr": "1:53:07.668446", "seconds": 6787.668446}, "exception": {"type": "ValueError", "value": "Field 'id' expected a number but got 'undefined'.", "traceback": true}, "extra": {}, "file": {"name": "views.py", "path": "C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py"}, "function": "dispatch", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 502, "message": "An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-26' (11088):", "module": "views", "name": "rest_framework.views", "process": {"id": 14276, "name": "MainProcess"}, "thread": {"id": 11088, "name": "Thread-26"}, "time": {"repr": "2020-10-30 17:24:16.387070+03:00", "timestamp": 1604067856.38707}}}
{"text": "2020-10-30T17:24:16.387070+0300 ERROR An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-26' (11088):\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1774, in get_prep_value\n    return int(value)\n               -> 'undefined'\n\nValueError: invalid literal for int() with base 10: 'undefined'\n\n\nThe above exception was the direct cause of the following exception:\n\n\nTraceback (most recent call last):\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 890, in _bootstrap\n    self._bootstrap_inner()\n    |    -> <function Thread._bootstrap_inner at 0x000001E3484431F8>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 926, in _bootstrap_inner\n    self.run()\n    |    -> <function Thread.run at 0x000001E348441F78>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\threading.py\", line 870, in run\n    self._target(*self._args, **self._kwargs)\n    |    |        |    |        |    -> {}\n    |    |        |    |        -> <Thread(Thread-26, started daemon 11088)>\n    |    |        |    -> (<socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), r...\n    |    |        -> <Thread(Thread-26, started daemon 11088)>\n    |    -> <bound method ThreadingMixIn.process_request_thread of <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>>\n    -> <Thread(Thread-26, started daemon 11088)>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 650, in process_request_thread\n    self.finish_request(request, client_address)\n    |    |              |        -> ('192.168.1.188', 56069)\n    |    |              -> <socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <function BaseServer.finish_request at 0x000001E3495CB948>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 360, in finish_request\n    self.RequestHandlerClass(request, client_address, self)\n    |    |                   |        |               -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |    |                   |        -> ('192.168.1.188', 56069)\n    |    |                   -> <socket.socket fd=1296, family=AddressFamily.AF_INET, type=SocketKind.SOCK_STREAM, proto=0, laddr=('192.168.1.131', 8080), ra...\n    |    -> <class 'django.core.servers.basehttp.WSGIRequestHandler'>\n    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\socketserver.py\", line 720, in __init__\n    self.handle()\n    |    -> <function WSGIRequestHandler.handle at 0x000001E34A9CF318>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 172, in handle\n    self.handle_one_request()\n    |    -> <function WSGIRequestHandler.handle_one_request at 0x000001E34A9CF3A8>\n    -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\servers\\basehttp.py\", line 197, in handle_one_request\n    handler.run(self.server.get_app())\n    |       |   |    |      -> <function WSGIServer.get_app at 0x000001E34A9BEF78>\n    |       |   |    -> <django.core.servers.basehttp.WSGIServer object at 0x000001E34AFD6048>\n    |       |   -> <django.core.servers.basehttp.WSGIRequestHandler object at 0x000001E34B2D9988>\n    |       -> <function BaseHandler.run at 0x000001E34A9C9A68>\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n\n  File \"C:\\Users\\AV\\AppData\\Local\\Programs\\Python\\Python37\\lib\\wsgiref\\handlers.py\", line 137, in run\n    self.result = application(self.environ, self.start_response)\n    |    |        |           |    |        |    -> <function BaseHandler.start_response at 0x000001E34A9C9DC8>\n    |    |        |           |    |        -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n    |    |        |           |    -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n    |    |        |           -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n    |    |        -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n    |    -> None\n    -> <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\contrib\\staticfiles\\handlers.py\", line 76, in __call__\n    return self.application(environ, start_response)\n           |    |           |        -> <bound method BaseHandler.start_response of <django.core.servers.basehttp.ServerHandler object at 0x000001E34B4DC408>>\n           |    |           -> {'FPS_BROWSER_APP_PROFILE_STRING': 'Internet Explorer', 'COMMONPROGRAMFILES': 'C:\\\\Program Files\\\\Common Files', 'SESSIONNAME...\n           |    -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n           -> <django.contrib.staticfiles.handlers.StaticFilesHandler object at 0x000001E34AF115C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\wsgi.py\", line 133, in __call__\n    response = self.get_response(request)\n               |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function BaseHandler.get_response at 0x000001E34A9809D8>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 128, in get_response\n    response = self._middleware_chain(request)\n               |    |                 -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148E58>\n               -> <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148B88>\n               |           -> <django.middleware.security.SecurityMiddleware object at 0x000001E34B0A9048>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148AF8>\n               |           -> <django.contrib.sessions.middleware.SessionMiddleware object at 0x000001E34B0A9C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148A68>\n               |           -> <corsheaders.middleware.CorsMiddleware object at 0x000001E34AF0BF08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148558>\n               |           -> <django.middleware.common.CommonMiddleware object at 0x000001E34B0314C8>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B148948>\n               |           -> <django.middleware.csrf.CsrfViewMiddleware object at 0x000001E34B146C08>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34AFD5A68>\n               |           -> <django.contrib.auth.middleware.AuthenticationMiddleware object at 0x000001E34B031488>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B1421F8>\n               |           -> <django.contrib.messages.middleware.MessageMiddleware object at 0x000001E34B146E88>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function convert_exception_to_response.<locals>.inner at 0x000001E34B13DEE8>\n               |           -> <django.middleware.clickjacking.XFrameOptionsMiddleware object at 0x000001E3495CA208>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\utils\\deprecation.py\", line 114, in __call__\n    response = response or self.get_response(request)\n               |           |    |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               |           |    -> <function BaseHandler._get_response at 0x000001E34AFD5EE8>\n               |           -> <django.middleware.locale.LocaleMiddleware object at 0x000001E3495D2108>\n               -> None\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\exception.py\", line 47, in inner\n    response = get_response(request)\n               |            -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x000001E348B94808>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\core\\handlers\\base.py\", line 179, in _get_response\n    response = wrapped_callback(request, *callback_args, **callback_kwargs)\n               |                |         |                -> {}\n               |                |         -> ()\n               |                -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n               -> <function YandexPayment at 0x000001E34AF5D048>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\decorators\\csrf.py\", line 54, in wrapped_view\n    return view_func(*args, **kwargs)\n           |          |       -> {}\n           |          -> (<WSGIRequest: GET '/payments/?order_id=undefined'>,)\n           -> <function YandexPayment at 0x000001E34AF5D828>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\views\\generic\\base.py\", line 70, in view\n    return self.dispatch(request, *args, **kwargs)\n           |    |        |         |       -> {}\n           |    |        |         -> ()\n           |    |        -> <WSGIRequest: GET '/payments/?order_id=undefined'>\n           |    -> <function APIView.dispatch at 0x000001E34AD689D8>\n           -> <users.kassa.YandexPayment object at 0x000001E34B597488>\n\n> File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py\", line 502, in dispatch\n    response = handler(request, *args, **kwargs)\n               |       |         |       -> {}\n               |       |         -> ()\n               |       -> <rest_framework.request.Request object at 0x000001E34B752D48>\n               -> <bound method YandexPayment.get of <users.kassa.YandexPayment object at 0x000001E34B597488>>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\users\\kassa.py\", line 40, in get\n    order = Orders.objects.get(id=order_id)\n            |      |              -> 'undefined'\n            |      -> <django.db.models.manager.ManagerDescriptor object at 0x000001E34A90A648>\n            -> <class 'users.models.Orders'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\manager.py\", line 85, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n                   |    |               |      |       -> {'id': 'undefined'}\n                   |    |               |      -> ()\n                   |    |               -> 'get'\n                   |    -> <function BaseManager.get_queryset at 0x000001E3494CD318>\n                   -> <django.db.models.manager.Manager object at 0x000001E34AB5E908>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 418, in get\n    clone = self._chain() if self.query.combinator else self.filter(*args, **kwargs)\n            |    |           |    |                     |    |       |       -> {'id': 'undefined'}\n            |    |           |    |                     |    |       -> ()\n            |    |           |    |                     |    -> <function QuerySet.filter at 0x000001E3494D23A8>\n            |    |           |    |                     -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    |           |    -> <property object at 0x000001E3494CE9A8>\n            |    |           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n            |    -> <function QuerySet._chain at 0x000001E3494D4168>\n            -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 942, in filter\n    return self._filter_or_exclude(False, *args, **kwargs)\n           |    |                          |       -> {'id': 'undefined'}\n           |    |                          -> ()\n           |    -> <function QuerySet._filter_or_exclude at 0x000001E3494D24C8>\n           -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 962, in _filter_or_exclude\n    clone._filter_or_exclude_inplace(negate, *args, **kwargs)\n    |     |                          |        |       -> {'id': 'undefined'}\n    |     |                          |        -> ()\n    |     |                          -> False\n    |     -> <function QuerySet._filter_or_exclude_inplace at 0x000001E3494D2558>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\query.py\", line 969, in _filter_or_exclude_inplace\n    self._query.add_q(Q(*args, **kwargs))\n    |    |      |     |  |       -> {'id': 'undefined'}\n    |    |      |     |  -> ()\n    |    |      |     -> <class 'django.db.models.query_utils.Q'>\n    |    |      -> <function Query.add_q at 0x000001E3493FB828>\n    |    -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n    -> <QuerySet [<Orders: \u0417\u0430\u043a\u0430\u0437 \u21164: poor@test.com -> basota@test.ru>, <Orders: \u0417\u0430\u043a\u0430\u0437 \u21165: poor@test.com -> basota@test.ru>, <Orders:...\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1358, in add_q\n    clause, _ = self._add_q(q_object, self.used_aliases)\n                |    |      |         |    -> {'users_orders'}\n                |    |      |         -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n                |    |      -> <Q: (AND: ('id', 'undefined'))>\n                |    -> <function Query._add_q at 0x000001E3493FB948>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1380, in _add_q\n    split_subq=split_subq, check_filterable=check_filterable,\n               |                            -> True\n               -> True\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1319, in build_filter\n    condition = self.build_lookup(lookups, col, value)\n                |    |            |        |    -> 'undefined'\n                |    |            |        -> Col(users_orders, users.Orders.id)\n                |    |            -> []\n                |    -> <function Query.build_lookup at 0x000001E3493FB5E8>\n                -> <django.db.models.sql.query.Query object at 0x000001E34B7521C8>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\sql\\query.py\", line 1165, in build_lookup\n    lookup = lookup_class(lhs, rhs)\n             |            |    -> 'undefined'\n             |            -> Col(users_orders, users.Orders.id)\n             -> <class 'django.db.models.lookups.Exact'>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 24, in __init__\n    self.rhs = self.get_prep_lookup()\n    |    |     |    -> <function Lookup.get_prep_lookup at 0x000001E34938B948>\n    |    |     -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n    |    -> 'undefined'\n    -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\lookups.py\", line 74, in get_prep_lookup\n    return self.lhs.output_field.get_prep_value(self.rhs)\n           |    |   |            |              |    -> 'undefined'\n           |    |   |            |              -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n           |    |   |            -> <function IntegerField.get_prep_value at 0x000001E34935CD38>\n           |    |   -> <django.db.models.fields.AutoField: id>\n           |    -> Col(users_orders, users.Orders.id)\n           -> <django.db.models.lookups.Exact object at 0x000001E34B6E7C08>\n\n  File \"C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\django\\db\\models\\fields\\__init__.py\", line 1778, in get_prep_value\n    ) from e\n\nValueError: Field 'id' expected a number but got 'undefined'.\n", "record": {"elapsed": {"repr": "1:53:07.668446", "seconds": 6787.668446}, "exception": {"type": "ValueError", "value": "Field 'id' expected a number but got 'undefined'.", "traceback": true}, "extra": {}, "file": {"name": "views.py", "path": "C:\\Users\\AV\\PycharmProjects\\MyStar\\venv\\lib\\site-packages\\rest_framework\\views.py"}, "function": "dispatch", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 502, "message": "An error has been caught in function 'dispatch', process 'MainProcess' (14276), thread 'Thread-26' (11088):", "module": "views", "name": "rest_framework.views", "process": {"id": 14276, "name": "MainProcess"}, "thread": {"id": 11088, "name": "Thread-26"}, "time": {"repr": "2020-10-30 17:24:16.387070+03:00", "timestamp": 1604067856.38707}}}
